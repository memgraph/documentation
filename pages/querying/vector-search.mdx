---
title: Vector search
description: Learn how to use vector search and manage vector indices in Memgraph.
---

import { Callout } from 'nextra/components'

# Vector search

TODO(gitbuda): Explain why and what?

## Create vector indices

Vector indices are created with the `CREATE VECTOR INDEX` command. You need to give
a name to the new index and specify which label and property it should apply to.

```cypher
CREATE VECTOR INDEX vectorIndexName ON :Label(property) OPTIONS { config };
```

If you attempt to create an index with an existing name, the statement will fail.

## TODO(gitbuda): What is indexed and how?

## Vector Index Configuration

This section describes the configuration options for the vector index. Users must provide specific configuration fields to define the vector index's behavior, including metrics and scalar kinds.

### Required Configuration Fields

- `dimension: Integer` ➡ The dimension of the vectors being indexed. This field is required to ensure correct indexing and search behavior. 
 <Callout type="warning">
 If the vectors provided do not match the specified dimension, the behavior of the index is undefined.
 </Callout>

- `limit: Integer` ➡ The maximum size of the vector index. This specifies the limit on how many vectors the index can store. 
 <Callout type="warning">
 If the size limit is exceeded, the behavior of the index is undefined.
 </Callout>

### Metric Kinds

The following table lists the supported metric kinds for vector search. These metrics determine how distances between vectors are calculated. Default type for the metric is `l2sq`.

| Metric      | Description                                          |
|-------------|------------------------------------------------------|
| `ip`        | Inner product (dot product).                         |
| `cos`       | Cosine similarity.                                   |
| `l2sq`      | Squared Euclidean distance.                          |
| `pearson`   | Pearson correlation coefficient.                     |
| `haversine` | Haversine distance (suitable for geographic data).   |
| `divergence`| A divergence-based metric.                           |
| `hamming`   | Hamming distance.                                    |
| `tanimoto`  | Tanimoto coefficient.                                |
| `sorensen`  | Sørensen-Dice coefficient.                           |
| `jaccard`   | Jaccard index.                                       |

### Scalar Kinds

Scalar kinds define the data type of each vector element. Default type for the metric is `f32`.

| Scalar    | Description                                            |
|-----------|--------------------------------------------------------|
| `b1x8`    | Binary format (1 bit per element, stored in 8-bit chunks). |
| `u40`     | Unsigned 40-bit integer.                               |
| `uuid`    | Universally unique identifier (UUID).                  |
| `bf16`    | 16-bit floating point (bfloat16).                      |
| `f64`     | 64-bit floating point (double).                        |
| `f32`     | 32-bit floating point (float).                         |
| `f16`     | 16-bit floating point.                                 |
| `f8`      | 8-bit floating point.                                  |
| `u64`     | 64-bit unsigned integer.                               |
| `u32`     | 32-bit unsigned integer.                               |
| `u16`     | 16-bit unsigned integer.                               |
| `u8`      | 8-bit unsigned integer.                                |
| `i64`     | 64-bit signed integer.                                 |
| `i32`     | 32-bit signed integer.                                 |
| `i16`     | 16-bit signed integer.                                 |
| `i8`      | 8-bit signed integer.                                  |

### Error Handling

If an unknown metric or scalar kind is provided, the system will throw an `invalid_argument` exception with a message indicating the unknown kind:


## Show vector indices

To list all vector indices in Memgraph, use the `SHOW INDEX INFO`
[statement](/fundamentals/indexes#show-created-indexes).

## TODO(gitbuda): Query vector indices

```
CALL vector_search.query_nodes('vectorIndexName', 10, [1.0, 2.0, ...])
YIELD node, score
RETURN node, score;
```

## TODO(gitbuda): Import hints

## Drop vector indices

Vector indices are dropped with the `DROP VECTOR INDEX` command. You need to give
the name of the index to be deleted.

This statement drops the vector index named `vectorIndexName`:

```cypher
DROP VECTOR INDEX vectorIndexName;
```

If one attempts to delete an index with the same name twice, the statement will
fail.

## Compatibility

Vector search supports usage modalities that are available in Memgraph. Refer
to the table below for an overview:

| Feature                 | Support   |
|-------------------------|-----------|
| Multitenancy            | todo      |
| Durability              | todo      |
| Storage modes           | todo      |
| Replication             | todo      |
| Concurrent transactions | todo      |

## TODO(gitbuda): In-memory vs On-disk + memory vs time
