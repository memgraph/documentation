---
title: How to create a query module in C++
description: Enhance your graph data analysis with Memgraph's C++ programming language integration. You can further explore C++ and more languages in our documentation. 
---

import { Callout } from 'nextra/components'

# How to create a query module in C++

Due to the nature of how C++ works, it is not possible to directly use C++ source code, but it needs to be compiled to a shared library. This shared library can then be loaded by Memgraph and used as a query module.

This means that enviroment for compiling C++ that includes libraries, headers and compiler needs to be installed on the system or in a development container. 

Based on this you have two options for developing a C++ query module:
- [Your enviroment for developing a query module in C++](/custom-query-modules/cpp/cpp-example#quickstart-gude-for-developing-a-query-module-in-c)
- [MAGE enviroment for developing a query module in C++](/custom-query-modules/cpp/cpp-example#developing-a-query-module-with-mage)

In your own enviroment, you will hold just your own dependencies and it can be used with any Memgraph installation or a container, there is no need for MAGE, you will manualy install the dependencies and compile the shared library. 

Meanwhile, the MAGE enviroment will hold all the dependencies and files necessary for our Mage library to function properly, you will follow the Mage structure to add your own query modules and compile them with Mage.

## How C++ API works in Memgraph 

The C++ API is a wrapper around the [C API](/custom-query-modules/c/c-api). The full range of supported API functionalties can be found in the [C++
API](/custom-query-modules/cpp/cpp-api) with automatic memory management. C++ API modules, just like C API modules, need
to be compiled to a shared library so that they can be loaded when Memgraph starts. 

This means the C++ shared library is directly tied to the Memgraph instance that loaded it, and shares the same resources, which leads to quite efficent performance. 
This also means that any unhandled exceptions in the C++ code will crash the Memgraph instance, so it is important to handle all exceptions in the C++ code.




