---
title: Query sharing
description: Query sharing is an enterprise feature within Memgraph Lab that allows users to share queries with their team members.
---

import { Callout } from 'nextra/components'

## Query Sharing

Query sharing is introduced in Lab 2.15. With a single click, you can
create a shareable link of your Cypher query, Graph Style Script, and
query parameters and share it with your team members.

You don't need to worry about the sensitive information of your query
because the Lab uses remote storage to store the data and track which
user viewed which query and when.

<Callout>
Enterprise: Query sharing requires a Memgraph enterprise license to work.
</Callout>

<Callout>
Environment: Query sharing is only available when the Lab is started
in a Docker environment.
</Callout>

### How it works

For query-sharing to work, the Lab needs a remote storage connection
where query-sharing information will be saved. Remote storage should
be a new Memgraph instance or new Memgraph database in a multi-tenant
environment.

Once a user creates a query share, the Lab will store information about
the creator of the share as well as all the information required to
run a query including:

* Cypher query
* Graph Style Script
* Cypher query parameters

Once the query share is created, a user who created it will receive
a URL that can be shared with other team members who have access to
the same Lab instance and Memgraph instance where the query should
be running.

When a viewer clicks on the query share link, the viewer will need
to connect to Memgraph first and will be presented with the query
to run. This way, any sensitive information within your query or
parameters is not shared publicly but contained within the Lab and
remote storage where the Lab saves all the information about the
created query shares.

A creator of the query share can see all created query shares and
how many views each share had. The creator can always delete any
share where any link that pointed to the deleted query share won't
work anymore.

<Callout>
For a query share to work properly, you should have users in your
Memgraph instance where you are creating query shares. With that
approach, you can track who viewed which query share, and creators
will be able to handle their own query shares.

If there are no users in the Memgraph database, then anyone connecting
to Memgraph acts as the same user (not defined one) so everyone can
see all query shares and even delete them in the query share history.
</Callout>

### How to set it up

To enable the query-sharing feature in the Lab, you will need to set
up the remote storage (Memgraph instance) that the Lab will connect
to and store query-sharing data there. Please make sure the Memgraph
instance or Memgraph database (multi-tenant environment) is used only
by the Lab, otherwise, you might end up with corrupted data and an
inconsistent state:

To set up the remote storage fill out the following environment
variables which the Lab will use:

| Variable                   | Description                                       | Type       |
|----------------------------|---------------------------------------------------|------------|
| `STORAGE_MG_HOST`          | Memgraph host for the Lab remote storage          | `string`   |
| `STORAGE_MG_PORT`          | Memgraph port for the Lab remote storage          | `number`   |
| `STORAGE_MG_IS_ENCRYPTED`  | Memgraph SSL on/off for the Lab remote storage    | `boolean`  |
| `STORAGE_MG_DATABASE_NAME` | Memgraph database name for the Lab remote storage | `string`   |
| `STORAGE_MG_USERNAME`      | Memgraph username for the Lab remote storage      | `string`   |
| `STORAGE_MG_PASSWORD`      | Memgraph password for the Lab remote storage      | `string`   |

Remote storage will only work with a valid enterprise license. Make
sure to set up the following environment variables too:

| Variable                      | Description                          | Type       |
|-------------------------------|--------------------------------------|------------|
| `ENTERPRISE_LICENSE_ORG_NAME` | Enterprise license organization name | `string`   |
| `ENTERPRISE_LICENSE_KEY`      | Enterprise license key               | `string`   |

If everything is ok, you should see the following log output when
starting the Lab:

```
INFO: [lab] Enterprise license applied successfully. Enjoy the premium features.
```
