---
title: schema
description: Retrieve information about the database schema and interact with it.
---

import { Callout } from 'nextra/components'

# schema

export const Highlight = ({children, color}) => (
<span
style={{
  backgroundColor: color,
  borderRadius: '2px',
  color: '#fff',
  padding: '0.2rem',
}}>
{children}
</span>
);


The `schema` module offers procedures that allow you to interact with and retrieve information about the database schema.

[![docs-source](https://img.shields.io/badge/source-schema-FB6E00?logo=github&style=for-the-badge)](https://github.com/memgraph/mage/tree/main/cpp/schema_module)

| Trait               | Value                                                 |
| ------------------- | ----------------------------------------------------- |
| **Module type**     | <Highlight color="#FB6E00">**util**</Highlight>  |
| **Implementation**  | <Highlight color="#FB6E00">**C++**</Highlight>        |
| **Parallelism**     | <Highlight color="#FB6E00">**sequential**</Highlight> |

## Procedures

<Callout type="info">
If you want to execute this algorithm on graph projections, subgraphs or portions of the graph, be sure to check out [how to run a MAGE module on subgraphs](/advanced-algorithms/run-algorithms#run-procedures-on-subgraph).
</Callout>

### `node_type_properties()`

This procedure returns schema information about nodes and their properties in the graph. For every property in a node, a separate row is created.

#### Output:

- `nodeType: string` ➡ concatenated node labels separated by `:`.
- `nodeLabels: List[string]` ➡ list of labels of the node.
- `mandatory: boolean` ➡ a boolean which is `True` if the node has properties, `False` if the node has no properties.
- `propertyName: string` ➡ name of the property.
- `propertyTypes: List[string]` ➡ type of the property.

#### Usage:

Cypher for creation of graph used in example:

```cypher
CREATE (d:Dog {name: "Rex", age: 5})-[l:LOVES {how_much: "very"}]->(h:Human:Owner {name: "Carl", age: 90});
CREATE (n:NonManadatoryNode);
```
Cypher usage of the procedure:

```cypher
CALL schema.node_type_properties() YIELD nodeType, nodeLabels, mandatory, propertyName, propertyTypes; 
```

```plaintext
+------------------------------------------------------------------------------------------+
|nodeType              | nodeLabels            | mandatory | propertyName  | propertyTypes |
+------------------------------------------------------------------------------------------+
|:`Dog`                | ["Dog"]               | true      | age           | ["Int"]       |
+------------------------------------------------------------------------------------------+
|:`Dog`                | ["Dog"]               | true      | name          | ["String"]    |
+------------------------------------------------------------------------------------------+
|:`Human`:`Owner`      | ["Human", "Owner"]    | true      | age           | ["Int"]       |
+------------------------------------------------------------------------------------------+
|:`Human`:`Owner`      | ["Human", "Owner"]    | true      | name          | ["String"]    |
+------------------------------------------------------------------------------------------+
|:`NonManadatoryNode`  | ["NonManadatoryNode"] | false     |               |               |
+------------------------------------------------------------------------------------------+
```

### `rel_type_properties()`

This procedure returns schema information about relationships and their properties in the graph. For every property in a relationship, a separate row is created.

#### Output:

- `relType: string` ➡ the type of the relationship.
- `mandatory: boolean` ➡ a boolean which is `True` if the node has properties, `False` if the node has no properties.
- `propertyName: string` ➡ name of the property.
- `propertyTypes: List[string]` ➡ type of the property.

#### Usage:

Cypher for creation of graph used in example:

```cypher
CREATE (d:Dog)-[r:RUNS_AND_PLAYS_IN {speed: 100, duration: "5 hours" }]->(p:Park);
CREATE (b:Bird)-[f:FLIES_TO]->(s:Sky);
```
Cypher usage of the procedure:

```cypher
CALL schema.rel_type_properties() YIELD relType, mandatory, propertyName, propertyTypes;
```

```plaintext
+-------------------------------------------------------------------+
| relType               | mandatory | propertyName  | propertyTypes |
+-------------------------------------------------------------------+
| :`RUNS_AND_PLAYS_IN`  | true      | duration      | ["String"]    |
+-------------------------------------------------------------------+
| :`RUNS_AND_PLAYS_IN`  | true      | speed         | ["Int"]       |
+-------------------------------------------------------------------+
| :`FLIES_TO`           | false     |               |               |
+-------------------------------------------------------------------+

```