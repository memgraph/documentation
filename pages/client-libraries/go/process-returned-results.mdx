import { Callout } from 'nextra/components'


#Process the returned results from 

In order to read results and server them back to you Go application. Depending on the type of the request you made, you can get different results back. 
Lets go over a few examples how you can interpret the results. 

##Get nodes back

```go

result, err := neo4j.ExecuteQuery(ctx, driver, "MATCH (n:Technology{name: 'Memgraph'}) RETURN n", nil, neo4j.EagerResultTransformer, neo4j.ExecuteQueryWithDatabase(""))
if err != nil {
    panic(err)
}
```

When using `ExceuteQuery`, the returned results are in the `EagerResults` format, which means you have access to the `Records` field. Records field contains all the records returned by the query. To process the results, you can iterate over the records and access the fields you need. 
Here is the example: 

```go
for _, node := range result.Records {
    fmt.Println(node.AsMap()["n"].(neo4j.Node))
}
```
```text
{65 65 [Technology] map[createdAt:{0 63828259200 <nil>} description:Fastest graph DB in the world! id:1 name:Memgraph]}
```

Lets break down the result. So for each returned record, it is getting converted to a map, now we can access the `n` field, which is a node returned from a query.
To access individual properties of the node you have following options: 

```go
node.AsMap()["n"].(neo4j.Node).GetProperties() // map[createdAt:{0 63828259200 <nil>} description:Fastest graph DB in the world! id:1 name:Memgraph]
node.AsMap()["n"].(neo4j.Node).GetElementId() // 65
node.AsMap()["n"].(neo4j.Node).Labels // [Technology]
node.AsMap()["n"].(neo4j.Node).Props["id"].(int64) // 1
node.AsMap()["n"].(neo4j.Node).Props["name"].(string) // Memgraph
node.AsMap()["n"].(neo4j.Node).Props["description"].(string) // Fastest graph DB in the world!
node.AsMap()["n"].(neo4j.Node).Props["createdAt"].(neo4j.Date).Time() // 2023-08-22 00:00:00 +0000 UTC

```

Note that for each property can be of type `any` so you need to cast it to the proper type.


## Get relationship back 

```go 
	//Create a relationship between two nodes, developer and technology
	query = "CREATE (d:Developer {name: 'John Doe'})-[:USES {id:99}]->(t:Technology {id: 1, name:'Memgraph', description: 'Fastest graph DB in the world!', createdAt: Date()});"
	_, err = neo4j.ExecuteQuery(ctx, driver, query, nil, neo4j.EagerResultTransformer, neo4j.ExecuteQueryWithDatabase(""))
	if err != nil {
		panic(err)
	}

	//Read a relationship between two nodes, developer and technology
	query = "MATCH (d:Developer)-[r:USES]->(t:Technology) RETURN r"
	result, err = neo4j.ExecuteQuery(ctx, driver, query, nil, neo4j.EagerResultTransformer, neo4j.ExecuteQueryWithDatabase(""))
	if err != nil {
		panic(err)
	}
	for _, rel := range result.Records {
		fmt.Println(rel.AsMap()["r"].(neo4j.Relationship))
		fmt.Println(rel.AsMap()["r"].(neo4j.Relationship).GetProperties())
		fmt.Println(rel.AsMap()["r"].(neo4j.Relationship).GetElementId())
		fmt.Println(rel.AsMap()["r"].(neo4j.Relationship).Type)
		fmt.Println(rel.AsMap()["r"].(neo4j.Relationship).StartElementId)
		fmt.Println(rel.AsMap()["r"].(neo4j.Relationship).EndElementId)
		fmt.Println(rel.AsMap()["r"].(neo4j.Relationship).Props["id"].(int64))
	}
```

## Get a path instance 
```go
	query = "MATCH p=(d:Developer)-[r:USES]->(t:Technology) RETURN p"
	result, err = neo4j.ExecuteQuery(ctx, driver, query, nil, neo4j.EagerResultTransformer, neo4j.ExecuteQueryWithDatabase(""))
	if err != nil {
		panic(err)
	}

	for _, path := range result.Records {
		fmt.Println(path.AsMap()["p"].(neo4j.Path))
		fmt.Println(path.AsMap()["p"].(neo4j.Path).Nodes)
		fmt.Println(path.AsMap()["p"].(neo4j.Path).Relationships)
	}
```




## Mapping types between Cypher and Go driver 

 Here is the full table of the mapping between Cypher types and the types used in the Go driver:

|  Cypher Type | Driver Type        |
|-------------:|:-------------------|
|          Null| nil                |
|       String | string             |
|      Boolean | bool               |
|      Integer | int64              |
|        Float | float              |
|         List | []any              |
|          Map | map[string]any     |
|         Node | neo4j.Node         |
| Relationship | neo4j.Relationship |
|         Path | neo4j.Path         |
|     Duration | neo4j.Duration     |
|         Date | neo4j.Date         |
|    LocalTime | neo4j.LocalTime    |
|LocalDateTime | neo4j.LocalDateTime|


